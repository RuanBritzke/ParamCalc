#:kivy 2.1.0
<WarningPopup@Popup>:
    message: message
    auto_dismiss: True
    title: "Aviso"
    size_hint: None, None
    width: grid.width + dp(25)
    height: grid.height + root.title_size + dp(48)
    
    GridLayout:
        id: grid
        size_hint: None, None
        size: self.minimum_size
        padding: [10, 5]
        cols: 1
        AnchorLayout:
            anchor_x: "center"
            anchor_y: "bottom"
            size_hint: None, None
            height: message.height
            width: max(message.width, butt.width)
            Label: 
                id: message
                size_hint: None, None
                size: self.texture_size
                padding: [10, 5]
        AnchorLayout:
            anchor_x: "center"
            anchor_y: "bottom"
            size_hint: None, None
            height: butt.height
            width: max(message.width, butt.width)
            Button:
                id: butt
                text: 'Fehcar'
                size_hint: None, None
                size: self.texture_size
                padding: [10, 5]
                on_release: root.dismiss()



<ParamCalcWindow>:
    name: 'Calculadora'
    canvas:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        size_hint: 0.95, 0.95
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
    
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.09
            
            ToggleButton:
                id: trifasico
                text: 'Trifásico'
                group: 'fases'
                state: 'normal'
                on_press: root.check_toggles()

            ToggleButton:
                id: monofasico
                text: 'Monofásico'
                group: 'fases'
                state: 'down'
                on_press: root.check_toggles()

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.09

                
            TextInput:
                id: PotenciaAparente
                hint_text: "Potência Aparente [VA]"
                text: ""
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                input_filter: 'float'
                multiline: False
            
            
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.09

            TextInput:
                id: PotenciaAtiva
                hint_text: "Potência Ativa [W]"
                text: ""
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                input_filter: 'float'
                multiline: False
                

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.09

            TextInput:
                id: PotenciaReativa
                hint_text: "Potência Reativa [VAr]"
                text: ""
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                input_filter: 'float'
                multiline: False


        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.09

            TextInput:
                id: cosphi
                hint_text: "cos \u03C6"
                text: ""
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                input_filter: 'float'
                multiline: False
            
            TextInput:
                id: phi
                hint_text: "\u00B1\u03C6°"
                text: ""
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                input_filter: 'float'
                multiline: False

            TextInput:
                id: Reatancia
                hint_text: "Indutivo Capacitivo"
                text: ""
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                input_filter: 'float'
                
        
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.09

            TextInput:
                id: Tensao
                hint_text: "Tensão [V]"
                text: ""
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]


        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.09

            TextInput:
                id: Corrente
                hint_text: "Corrente [A]"
                text: ""
                halign: 'center'
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]


        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.01
            Label:
                text: ""
                size_hint: 1, 0.01

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.09

            Button:
                id: Limpar
                text: "Limpar"
                size_hint: 0.4, 1
                on_release: root.clear_all()

            Label:
                text: ""
                size_hint: 0.2, 1

            Button:
                id: Calcular
                text: "Calcular"
                size_hint: 0.4, 1
                on_release: root.get_entries()